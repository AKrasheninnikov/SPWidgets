<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Spwidgets by purtuga</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/main.js" ></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>SPWidgets</h1>
        <p>SharePoint Custom UI Widgets</p>

        <p class="view"><a href="https://github.com/purtuga/SPWidgets">View the Project on GitHub <small>purtuga/SPWidgets</small></a></p>


        <ul>
          <li id="ptLatestDownload"><a href="https://github.com/purtuga/SPWidgets/archive/v2.0.zip">Download <strong>v2.0</strong></a></li>
          <li><a href="https://github.com/purtuga/SPWidgets/tags">Download <strong>Other</strong></a></li>
          <li><a href="https://github.com/purtuga/SPWidgets">View On <strong>GitHub</strong></a></li>
        </ul>
        
      </header>
      <section>
        
<h2>About</h2>

<p>SPWidgets is a jQuery plugin that provides SharePoint Widgets that can be used for creating customized User Interfaces (UI) on the SharePoint platform using Client Side scripting (javascript).</p>

<p>For the latest information on this plugin, see the <a href="http://purtuga.github.com/SPWidgets/">project page on GIT</a>.</p>

<h2>Dependencies</h2>

<p>SPWidgets has the following dependencies:</p>

<ol>
<li><a href="http://jquery.com">jQuery</a></li>
<li><a href="http://jqueryui.com">jQuery UI</a></li>
<li><a href="http://spservices.codeplex.com">SPServices</a></li>
</ol>

<h2>Usage</h2>

<p>The following is an example that loads the required libraries from CDN's, the SPWidgets from the local site and then initiates the People Picker plugin on an input field inside a jQuery UI dialog.</p>

<pre><code>&lt;link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/themes/redmond/jquery-ui.css" /&gt;
&lt;script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js'&gt;&lt;/script&gt;
&lt;script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js'&gt;&lt;/script&gt;
&lt;script type="text/javascript" src='http://cdnjs.cloudflare.com/ajax/libs/jquery.SPServices/0.7.1a/jquery.SPServices-0.7.1a.min.js'&gt;&lt;/script&gt;
&lt;script type="text/javascript" src='yoursite/path/to/SPWidgets.js'&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    $(document).ready(function(){
        $("&lt;div&gt; &lt;input name="users" value="" /&gt; &lt;/div&gt;")
            .appendTo("body")
            .find("input")
                .pickSPUser()
                .end()
            .dialog();
    });
&lt;/script&gt;
</code></pre>

<h2>License</h2>

<p>Dual License support</p>

<ul>
<li><a href="http://www.opensource.org/licenses/mit-license.php">MIT</a></li>
<li><a href="http://www.opensource.org/licenses/gpl-license.php">GPL</a></li>
</ul>

<p>User can pick whichever one applies best for their project
and does'nt not have to contact me.</p>

<h2>Author</h2>

<span id="ptAuthorInfo">
<p><a href="http://paultavares.wordpress.com">Paul Tavares</a> @purtuga</p>

<p>Follow me at Twitter <a href="https://twitter.com/paul_tavares">@paul_tavares</a></p> 
</span>

<h2>Version</h2>

<ul>
<li>Version: 2.0, May 9, 2013</li>
</ul>

<!-- ===============[[ doc below ]]================ --> 

<h1>pickSPUser Widget</h1>

<p>Given an input field, this method will display an interface that allows the users to select one or more users from SharePoint and stores the selected user information into the input field in the format expected when making an update via webservices.</p>

<p>The input field will be hidden in its current position and a UI will displayed instead. As the user picks or removes users, the input field will be updated at the same time, thus it will always be ready to be submitted as part of an update to the server.</p>

<h2>Usage</h2>

<pre><code>$("input[name='users']").pickSPUser();
</code></pre>

<h2>Input Parameters</h2>

<p>This method takes as input an object containing the following options</p>

<ul>
<li><p><strong>allowMultiples</strong>      :   <em>Boolean. Optional. Default=true.</em> <br />
                            Determine whether multiple users can be picked.</p></li>
<li><p><strong>maxSearchResults</strong>    :   <em>Integer. Optional. Default=50.</em> <br />
                            The max number of results to be returned from the
                            server.</p></li>
<li><p><strong>onPickUser</strong>          :   <em>Function. Optional. Default=null.</em> <br />
                            Function that is called when user makes a selection.
                            Function will have a context (<em>this</em> keyword) of the
                            input field to which this plugin was bound, and
                            will be given one input param; an object containing
                            information about the selection made by the user. This
                            object will contain data returned by the SharePoint's
                            webservice.</p></li>
</ul>

<h2>Return Value</h2>

<p>This plugin will return a jQuery object that contains the initially selected set of node, thus maintaining chainability.</p>

<h2>Examples</h2>

<p>Bind people picker and allow only 1 person to be selected/stored.</p>

<pre><code>$("input[name='users']").pickSPUser({
    allowMultiples: false
});
</code></pre>

<p>When user makes a selection, show alert with person's info.</p>

<pre><code>$("input[name='users']").pickSPUser({
    onPickUser: function(person){
        alert("User selected: \n displayName: " + 
            person.displayName + "\n accountId: " +
            person.accountId + "\n accountName: " +
            person.accountName + "\n accountType:" +
            person.accountType);
    }
});
</code></pre>
<h1>SPControlUpload Widget</h1>

<p>jQuery plugin that inserts a widget into page for uploading a file to a SharePoint location (library) without having to leave the page that the user is currently on. This plugin provides a behavior similar to an async ajax call.</p>

<p>At its core, this plugin is simply uses the default SharePoint upload.aspx page inside an iframe, but manipulating it from the hosted page, so that the user is shown only a minimalist UI.  Code hooks are provided for allowing a developer to further manipulate the page(s) that may be shown after the initial upload <em>(ex. some libraries require users to fill in additional information and then check in the document. This can all be automated without user input.)</em></p>

<p>In a normal flow, the upload process follows this sequence:</p>

<ol>
<li>Display upload form. User selects a file for upload and presses the upload button.</li>
<li>File is uploaded to the server and depending on the setup, a check in page may be displayed.</li>
<li>File is checked in and file upload is complete. Page is redirected to display/list view.</li>
</ol>

<h2>Usage</h2>

<pre><code>$("input[name='users']").SPControlUpload({
    listName: "Shared Documents",
    onPageChange: function(ev){
        if (ev.state === 3) {
            ev.hideOverlay = false;
            alert("Upload Done!");
        }
    }
});
</code></pre>

<h2>Input Parameters</h2>

<p>This method takes as input an object containing the following options</p>

<ul>
<li><p><strong>listName</strong>  :   <em>String. <strong>REQUIRED.</strong></em> <br />
The name or UID of the list.
Example 'Shared Documents' or '{67587-89284-93884-78827-78823}'</p></li>
<li><p><strong>folderPath</strong> :  <em>String. Optional. Default="/"</em> <br />
The path to the folder inside of the Document Library where
the document should be uploaded to. Value can be either relative to the
document library root or absolute. Default is to place the
document at the root of the Document Library
Examples 'http://yourdomain.com/sites/site1/Shared Documents' or
'/sites/site1/Shared Documents'</p></li>
<li><p><strong>uploadDonePage</strong> : <em>String. Optional. Default="/_layouts/viewlsts.aspx".</em> <br />
The url of the page that should be loaded after the
file has been uploaded successful. Value MUTST start with http.
Default is 'http://yourdomain.com/sites/site1/_layouts/viewlsts.aspx'</p></li>
<li><p><strong>onPageChange</strong> :  <em>Function. Optional. Default=null.</em> <br />
Function that is called each time the form in the
iFrame is changed. The function 'this' keyword points to the
element that was used when this method was called.
The function is given one param - the event object created 
by this plugin that includes information about the state
of the upload. See Event Object below for more information.
Return value of this function will control flow of plugin.
Returning true (boolean), will allow processing to continue
at different stages (see the event object below), while 
returning false (boolean) will stop flow from continuing. The
check is strict; meaning that it has to be a boolean false in
order for flow to stop. </p>

<pre><code>onPageChange: function(ev){
    // this=original $(selector)
    // so some processing
    return true; // allow form to proceed.
}
</code></pre></li>
<li><p><strong>uploadUrlOpt</strong> :  <em>String. Optional. Default="".</em> <br />
String of data that should be appended to the upload page url,
following this '?".
This string value is assumed to have already been properly 
escaped for use in the url.<br />
<em>NOTE</em>: The option "MultipleUpload=1" is NOT SUPPORTED.</p></li>
<li><p><strong>overwrite</strong> :   <em>Boolean. Optional. Default=False.</em> <br />
True or False indicating if document being uploaded should
overwrite any existing one. Default is False (don't overwrite)</p></li>
<li><p><strong>uploadPage</strong> :  <em>String. Optional. Default="/_layouts/Upload.aspx".</em> <br />
The relative URL from the WebSite root to the upload page.
Default is "/_layouts/Upload.aspx". This value is appended to
to the website full url, which is retrieved using SPServices
utility.</p></li>
<li><p><strong>overlayClass</strong> :  <em>String. Optional. Default="".</em> <br />
A css class to be associated with the overlay that is displayed
over the iframe while loading of the page is going on.</p></li>
<li><p><strong>overlayBgColor</strong> : <em>String. Optional. Default="white".</em> <br />
A color to be used for the overlay area that is displayed over
the iframe wile loading of the page is going on. Default is
white. Set this to null if wanting only to use a class.</p></li>
<li><p><strong>overlayMessage</strong> : <em>String|HTMLElement|jQuery. Optional. Default="Loading...".</em> <br />
String or object/element to be displayed inside of the overlay
when it is displayed. </p></li>
</ul>

<h2>Event Object</h2>

<p>The function defined for the <em>onPageChange</em> input parameter will receive as input an event object generated by this plugin. The object will contain information about the state of the upload process. </p>

<p>The following attributes can be found in the event object: </p>

<ul>
<li><p><strong>ev.state</strong>  : <em>Integer. 1|2|3</em> <br />
A value from 1 through 3 that represents the state of
the phisical file. This value, along with the 
<em>ev.action</em> value can be used to validate user input
and if appropriate, cancel the send request to the
server.</p>

<ol>
<li><p>No File uploaded. Upload form is ready for user input.
This is set when the form is initially loaded and the 
File html element is ready for the user to attach the file.</p></li>
<li><p>No File uploaded. User has defined a file for upload and
form is now ready to be submitted to the server. This state
could be used in the <em>onPageChange</em> to (for example) prevent
the upload of certain file types.  </p></li>
<li><p>File has been uploaded and is now available on the server (note
that it may not be checked in yet).  This state is set when the
user has successfully uploaded the file to the server and no 
errors were encountered (example invalid file characters).
This state will remain through subsequent pages if the file
requires check in.</p></li>
</ol></li>
<li><p><strong>ev.action</strong> : <em>String. preLoad|postLoad</em>  <br /> 
The event action as it pertains to this plugin. Use this value in
conjuction with the <em>ev.state</em> to do additional validations on user
input.</p>

<ul>
<li><em>preLoad</em>   - action is taking place before the page is sent to
              the server. The user (or code) must have initiated
              an action that requires sending data to the server.</li>
<li><em>postLoad</em>  - action is taking place after page has completed
              loading, but is not yet "visible" to the user.</li>
</ul></li>
<li><p><strong>ev.hideOverlay</strong> : <em>Boolean. Default=true.</em>  <br />
Used when action=postLoad. Can be set by a callback function to false, 
so that the busy overlay remains displayed and is not automatically 
hidden.</p></li>
<li><p><strong>ev.pageUrl</strong> : <em>String.</em> <br />
The url of the page currently loaded in the iframe.</p></li>
<li><p><strong>ev.page</strong> : <em>jQuery Object.</em>  <br />
An object representing the page loaded inside the iFrame. This can be
used to further manipulate the iframe's page content.</p></li>
<li><p><strong>ev.isUploadDone</strong> : <em>Boolean.</em> <br />
Indicates if the upload process is done. Basically, this means that 
the processes has reached the page defined in the <em>updatePageDone</em> 
parameter.</p></li>
</ul>

<h2>Return Value</h2>

<p>This plugin will return a jQuery object that contains the initially selected
set of node, thus maintaining chainability.</p>

<h2>Examples</h2>

<h3>Example 1</h3>

<p>The following example creates a jQuery UI dialog to display the upload interface to the user.  The dialog closes after the file is sucessfuly uploaded. It demostrates the use of the event object's <em>state</em> and <em>isUploadDone</em> attributes. </p>

<pre><code>$('&lt;div style="height:350px;width;100%;padding:.5em;"&gt;&lt;/div&gt;')
    .appendTo("body")
    .dialog()
    .SPControlUpload({
        listName:       "Shared Documents", 
        onPageChange:   function(ev){

            // If we're done with the upload, then continue to show the
            // overlay, and fade out the area that contained the upload control. 
            if (ev.state == 3 &amp;&amp; ev.isUploadDone) {
                ev.hideOverlay = false;                    
                setTimeout(function(){
                        $(this).dialog("close").dialog("destroy");
                        alert("Upload Done!");
                    }, 1000);

            // If file was uploaded, but we have required fields to fill out,
            // then adjust page to only show the required data... 
            } else if (ev.state == 3 &amp;&amp; !ev.isUploadDone) {

                // Because we're coming from the same domain, we
                // have full access to the content of the page,
                // and thus we can manipulate it. In this example
                // I hide all chrome and show only the form fields
                // the user should be filling in.
                // Note that this works because in this very simple
                // example, I assume that the required fields form
                // does not have any special fields, like people pickers,
                // etc.
                ev.page.find("form")
                    .children(":visible")
                        .css("display", "none")
                        .addClass("ptWasVisible")
                        .end()
                    .find("input[title='Name']")
                        .closest("div[id^='WebPart']")
                            .appendTo(ev.page.find("form"));
                    }

        }//end: onPageChange()
    });
</code></pre>

<h3>Example 2</h3>

<p>In this example the file that the user is attempting to upload will be checked and if not a PDF file, then an error is displayed and the file is not uploaded.</p>

<pre><code>$('&lt;div style="height:350px;width;100%;padding:.5em;"&gt;&lt;/div&gt;')
    .appendTo("body")
    .dialog()
    .SPControlUpload({
        listName:       "Shared Documents", 
        onPageChange:   function(ev){

            // If we're done with the upload, then continue to show the
            // overlay, and fade out the area that contained the upload control. 
            if (ev.state == 3 &amp;&amp; ev.isUploadDone) {
                ev.hideOverlay = false;                    
                setTimeout(function(){
                        $(this).dialog("close").dialog("destroy");
                        alert("Upload Done!");
                    }, 1000);

            // If file was uploaded, but we have required fields to fill out,
            // then adjust page to only show the required data... 
            } else if (ev.state == 3 &amp;&amp; !ev.isUploadDone) {

                ev.page.find("form")
                    .children(":visible")
                        .css("display", "none")
                        .addClass("ptWasVisible")
                        .end()
                    .find("input[title='Name']")
                        .closest("div[id^='WebPart']")
                            .appendTo(ev.page.find("form"));
                    }

            // User has clicked UPLOAD. If file type not pdf, error
            } else if (ev.state == 2 &amp;&amp; ev.action === "preLoad") {
                var uploadFileName = String(ev.page.find("input[type='file']").val()); 
                if (uploadFileName.match(/\.pdf$/i) === null) {
                    alert("Only PDF file are allowed!!");
                    return false; // Cancel upload
                }

            }
        }//end: onPageChange()
    });
</code></pre>
<h1>SPShowBoard Widget</h1>

<p>Given a selector (an html element), this method will insert a Kan-Ban board inside of it based on one of the columns from the desired List.  The column must be of type Lookup or Choice, and whose values will be used by this widget to build the Board columns.
The widget support both columns set as Required or Optional and has input parameters available to filter the list of columns created. </p>

<h2>Usage</h2>

<pre><code>$("#board").SPShowBoard({
    list: "Tasks",
    field: "Status"
});
</code></pre>

<h2>Input Parameters</h2>

<p>This method takes as input an object containing the supported options:</p>

<pre><code>    $("#board").SPShowBoard({
        list:           '',
        field:          '',
        CAMLQuery:      '&lt;Query&gt;&lt;/Query&gt;',
        CAMLViewFields: '',
        fieldFilter:    null,
        optionalLabel:  '(none)',
        template:       null,
        webURL:         $().SPServices.SPGetCurrentSite(),
        onGetListItems: null,
        onPreUpdate:    null,
        onBoardCreate:  null
    });
</code></pre>

<p>The default options for this widget can be manipulated/set via the following object:</p>

<pre><code>    $.SPWidgets.defaults.board = {}
</code></pre>

<h3>Options</h3>

<ul>
<li><p><strong>list</strong>      :   <em>String. Required.</em> <br />
The list name or UID.</p></li>
<li><p><strong>field</strong>     :   <em>String. Required.</em> <br />
The field from the List from where the board should
be built from. This field should be either of type
CHOICE or LOOKUP.</p></li>
<li><p><strong>CAMLQuery</strong> :   <em>String|Function. Optional. Default=&lt;Query&gt;&lt;/Query&gt;</em> </br />
String with CAML query to be used against the list to filter what is displayed or a function that will provide the list of items (an array).
If defining a Function, it will be given two input parameter:</p>

<ol>
<li><p>a function that must be called and be given the
array of items.</p></li>
<li><p>The options defined on input to this widget.
The user defined function will be given a scope
(this keyword) of the html element it was bound to.</p>

<p>Example:</p>

<p>options.CAMLQuery = '&lt;Query&gt;&lt;Where&gt;' + 
    '&lt;FieldRef Name="Project" /&gt;' +
        '&lt;Value Type="Text"&gt;Latin America&lt;/Value&gt;' +
        '&lt;/Where&gt;&lt;/Query&gt;';</p>

<p>--or--</p>

<p>options.CAMLQuery = function(sendResults) {
    //get items from DB
    sendResults([...]);
}</p></li>
</ol></li>
<li><p><strong>CAMLViewFields</strong>    :   <em>String. Optional. Default=""</em> </br />
String in CAML format with list of fields to be
returned from the list when retrieving the rows
to be displayed on the board. </p></li>
<li><p><strong>fieldFilter</strong>       :   <em>String. Optional. Default=""</em> </br />
A string with either a comma delimetered list of
column values to show if field is of CHOICE type;
or a string with a CAML query to filter field values,
if field is of type Lookup</p></li>
<li><p><strong>optionalLabel</strong>     :   <em>String. Optional. Default="(none)"</em> </br />
The string to be used as the State column header when
field from where Board was built is optional in the
List. </p></li>
<li><p><strong>template</strong>          :   <em>String|Function|Element|jQuery. Optional. Default="&lt;div/&gt;"</em> </br />
The HTML template that will be used to for displaying
items on the board. The HTML will be used with jQuery's
.wrapInner() method and will use the Title field to
populate the inner nodes.
When defining a Function, it will be called with
a context of the item container on board that
should receive the content and be given two
input parameters: an object with the list item
and the original element that the board was bound
to.
Example:</p>

<pre><code>function(listItem, boardItemEle){
    // this = jQuery - List Item container within the board.
}
</code></pre></li>
<li><p><strong>webURL</strong>     :   <em>String. Optional. Default=current site</em> </br />
The WebURL for the list.</p></li>
<li><p><strong>onGetListItems</strong>     :  <em>Function. Optional. Default=null</em> </br />
Callback function to be called after data has been
retrieved from the 'list'. Function will be given a
scope (this) of the selection they used on input to
this method and two input parameters: 
An Array of Objects with the list of rows returned
from the List, and
A jQuery object representing the entire xml document
response.  Example:</p>

<pre><code>onGetListItems: function(items, xmlResponse){
    //this = jQuery element container selction
}
</code></pre></li>
<li><p><strong>onPreUpdate</strong>     :   <em>Function. Optional. Default=null</em> </br />
Callback function to be called just prior to a List Item
update. The function should return a boolean indicating whether the
update should be canceled. True will cancel the update.
The callback will have a scope of the item being updated and be
given 3 parameters:</p>

<ol>
<li><p>the event object</p></li>
<li><p>the item (DOM element) that triggered the event and</p></li>
<li><p>a data object with information/methods for the current
item/widget binding. The object will include two
attributes that will impact the updates that will be done:</br />
data.updates</br />
An array of updates that will be made.
The array will have, to start, the update to the
state that was triggered by the move in the board.
Additional updates can be added.
Format will be identical to what SPServices uses:
["field", "value"]. Example:</p>

<pre><code>data.updates.push(["Title", "New title here"]);
</code></pre>

<p>data.updatePromise</br />
A jQuery.Promise that represents
the update that will be made. This can be used to
bind on additional functionality. The queued functions
will be given the List Item object as well as the
xml resposne returned from the update. The context of
object will be the HTML element from where the update
was triggered.</p>

<p>The function should return a boolean indicating whether the
update should be canceled. True will cancel the update.
Example:</p>

<p>onPreUpdate: function(ev, item, data){
    //this = jQuery element container selction</p>

<pre><code>data.updates.push(["Title", "Update was made!"]);


data.updatePromise.done(function(){ alert("udpate done!"); });
</code></pre>

<p>} </p></li>
</ol></li>
<li><p><strong>onBoardCreate</strong>     :   <em>Function. Optional. Default=null</em> </br />
Function triggered after board is initially created.
See spwidget:boardcreate event for parameters that
will be given to function.</p></li>
</ul>

<h2>Return Value</h2>

<p>This plugin will return a jQuery object that contains the initially selected
set of nodes (selector), thus maintaining chainability.</p>

<h2>Methods</h2>

<ul>
<li><p><strong>refresh</strong></br />
Refreshes the data in the Board by retrieving the data
from the list again. During a refresh, existing board
items (the html element in DOM) is not actually deleted
and recreated if it already exists, but re-used. It is
important to note this specially if a custom template
function was defined as an input param.
Usage:</p>

<pre><code>$("#board").SPShowBoard("refresh");
</code></pre></li>
<li><p><strong>redraw</strong></br />
Redraws the board without pulling in data from the list.
Column heights will be normalized and jQuery UI's sortable
widget will be refreshed.</p>

<pre><code>$("#board").SPShowBoard("redraw");
</code></pre></li>
</ul>

<h2>Events</h2>

<p>This widget triggers several events that can be used to perform additional actions from those experienced in the board. In addition to the events below specific to this widget, events are also fired by the jQuery UI sortable interaction.</p>

<ul>
<li><p><strong>spwidget:boardchange</strong></br />
Event is triggered anytime a change happens in the board 
The function scope (this variable) will point to the column element that received the new item and is given 3 input parameters:</p>

<ol>
<li><p>A jQuery event object - the one generated by the jQuery UI's sortable interaction</p></li>
<li><p>the item (DOM element) that triggered the event</p></li>
<li><p>A data object with information/methods for the current item/widget binding.  The objects updates attribute will contain an array of array's with the updates that will be made to the item.</p></li>
</ol>

<p>Example:</p>

<pre><code>$("body").on("spwidget:boardchange", function(ev, item, data){
    // this = column that received item;
})
</code></pre></li>
<li><p><strong>spwidget:boardcreate</strong></br />
Event is triggered when the board is first created. It has the same scope and input elements as teh spwidget:boardchange event, above.</p></li>
<li><p><strong>spwidget:boarditemadd</strong></br />
Event triggered when new items are added to the board (ex. from a refresh). Event will be given the following input params:</p>

<ol>
<li><p>the event object (jquery)</p></li>
<li><p>the item (DOM element) that triggered the event</p></li>
<li><p>a data object with information/methods for the current item/widget binding.  The objects's .itemsModified attribute will contain an array of Objects  that were added.</p></li>
</ol></li>
<li><p><strong>spwidget:boarditemremove</strong></br />
Event triggered when items are removed from the board (ex. from a refresh). Event will be given the following input params:</p>

<ol>
<li><p>the event object (jquery)</p></li>
<li><p>the board container (DOM element)</p></li>
<li><p>a data object with information/methods for the current item/widget binding.  The objects's .itemsModified attribute will contain an array of Objects that were removed.</p></li>
</ol></li>
</ul>

<h2>Examples</h2>

<h3>Example 1</h3>

<pre><code>$("&lt;div/&gt;").append("body")
    .SPShowBoard({
        list:   "Tasks",
        field:  "Status"
    });
</code></pre>

<h3>Example 2</h3>
<h1>Common Utilities</h1>

<p>The following is a list of common utilities created internally for the widgets, but built generically and accessible externally.</p>

<h2>$.SPWidgets.fillTemplate</h2>

<p>A simple templating engine. Meant primarily for use internally by the widgets provided in this library. It simply replaces tokens in a string having a format of {{tokenName}} with the tokeName found in the data to be used to fill out the template.
(Since v. 2.0) </p>

<h3>Input Parameters</h3>

<p>The method accepts as input an Object containing the options below.</p>

<h4>Options</h4>

<ul>
<li><p><strong>tmplt</strong> :   <em>String|jQuery|Selector. Required.</em> <br />
The template to be used for the data.</p></li>
<li><p><strong>data</strong> :   <em>Object|Array. Required.</em> <br />
The object containing the data to be used in populating the template. This value can also be an Array of object, in which case, each array item will be used to build the return string.</p></li>
</ul>

<h3>Return Value</h3>

<p>This method will return a String with the template filled out with the data.</p>

<h3>Example</h3>

<pre><code>$.SPWidgets.fillTemplate({
    tmplt: '&lt;div&gt;{{Title}}&lt;/div&gt;',
    data: [
        { Title: "Record number 1" },
        { Title: "Record number 2" },
        { Title: "Record number 3" },
        { Title: "Record number 4" }
    ]
});
</code></pre>

<h2>$.SPWidgets.getCamlLogical</h2>

<p>Given an array of individual CAML filters, this method will wrap them all in a Logical condition (&lt;And&gt;&lt;/And&gt; or a &lt;Or&gt;&lt;/Or&gt;). The result (a string) will be returned to the caller. This method takes care of building the proper format required by the CAML conditional aggregates.
(Since v. 2.0) </p>

<h3>Input Parameters</h3>

<p>The method accepts as input an Object containing the options below.</p>

<h4>Options</h4>

<ul>
<li><p><strong>values</strong> :   <em>Array. Required</em> <br />
The array of String elements that will be join into caml Logical condition.</p></li>
<li><p><strong>type</strong> :   <em>String. Optional. Default="AND"</em> <br />
Static String. The type of logical condition that the <em>values</em> should be wrapped in. Possible values are <em>AND</em> or <em>OR</em>.  Default is 'AND'.</p></li>
<li><p><strong>onEachValue</strong> :   <em>Function. Optional. Default=null</em> <br />
A function to process each items in the <em>values</em> array. Function must return the value that should be used in the logial concatenation. 
Function is given 1 input param - the item currently being processed (from the <em>values</em> input param).</p></li>
</ul>

<h3>Return Value</h3>

<p>This method return a String containing the concatenated filter values in the appropriate AND or OR logical aggregate. </p>

<h3>Example 1</h3>

<pre><code>$.SPWidgets.getCamlLogical({
    type: "or",
    values: [
        "&lt;Eq&gt;&lt;FieldRef Name='Title' /&gt;&lt;Value Type='Text'&gt;Test&lt;/Value&gt;&lt;/Eq&gt;",
        "&lt;Eq&gt;&lt;FieldRef Name='Title' /&gt;&lt;Value Type='Text'&gt;Test1&lt;/Value&gt;&lt;/Eq&gt;",
        "&lt;Eq&gt;&lt;FieldRef Name='Title' /&gt;&lt;Value Type='Text'&gt;Test2&lt;/Value&gt;&lt;/Eq&gt;",
        "&lt;Eq&gt;&lt;FieldRef Name='Title' /&gt;&lt;Value Type='Text'&gt;Test3&lt;/Value&gt;&lt;/Eq&gt;",
        "&lt;Eq&gt;&lt;FieldRef Name='Title' /&gt;&lt;Value Type='Text'&gt;Test4&lt;/Value&gt;&lt;/Eq&gt;"
    ]
})
</code></pre>

<h3>Example 2</h3>

<pre><code>$.SPWidgets.getCamlLogical({
    type: "and",
    values: [
        "west",
        "east"
    ],
    onEachValue: function(loc){

        return "&lt;Neq&gt;&lt;FieldRef Name='Region'/&gt;" +
                "&lt;Value Type='Text'&gt;" + loc + "&lt;/Value&gt;&lt;/Neq&gt;";

    }
})
</code></pre>

<h2>$.SPWidgets.makeSameHeight</h2>

<p>Given a group of elements, this plugin will set their css <em>height</em> attribute to be at least equal to the tallest item among them.
(Since v. 2.0) </p>

<h3>Input Parameters</h3>

<ul>
<li><p><strong>ele</strong> :   <em>HTMLElement|Selector|jQuery. Required.</em> <br />
The set of elements whose height will be adjusted.</p></li>
<li><p><strong>pad</strong> :   <em>Integer. Optional. Default=0</em> <br />
Number of pixels to add on to the height. Value will be added to the calculated height of the tallest element. </p></li>
</ul>

<h3>Return Value</h3>

<p>The <em>ele</em> input parameters is returned to the caller. </p>

<h3>Example</h3>

<p>Given the following html markup:</p>

<pre><code>&lt;div class="spwidgets-demo" style="height: 30px;" /&gt;
&lt;div class="spwidgets-demo" style="height: 100px;" /&gt;
&lt;div class="spwidgets-demo" style="height: 50px;" /&gt;
&lt;div class="spwidgets-demo" style="height: 102px;" /&gt;
</code></pre>

<p>The above elements height would be set to 102px by the following:</p>

<pre><code>$.SPWidgets.makeSameHeight( $("div.spwidgets-demo") );
</code></pre>

<h2>$.SPWidgets.parseLookupFieldValue </h2>

<p>Parses a SharePoint lookup values as returned by webservices (id;#title;#id;#Title) into an array of objects where each object contains the lookup item data (ID and TITLE).
(Since v. 2.0) </p>

<h3>Input Parameters</h3>

<ul>
<li><strong>value</strong> :   <em>String. Required.</em> <br />
The column value that is returned by SharePoint's webservices for a Lookup column (normally in the format of ID;#Title) </li>
</ul>

<h3>Return Value</h3>

<p>An array of objects will be returned where each object has two keys; title and id of the lookup item that was parsed. Example:</p>

<pre><code>[
    {
        id: "1",
        title: "Title of lookup item 1"
    },
    {
        id: "2",
        title: "Title of lookup item 2"
    },
    {
        id: "3",
        title: "Title of lookup item 3"
    }
]
</code></pre>

<h3>Example</h3>

<pre><code>$.SPWidgets.parseLookupFieldValue("1;#Title of lookup item 1;#2;#Title of lookup item 2");
</code></pre>

<h2>$.SPWidgets.SPGetDateString</h2>

<p>Returns a date string in the format expected by SharePoint Date/time fields. Useful when wanting to obtain a date/time string for use in CAML Queries.
(Since v. 2.0) </p>

<p><em>Credit:  Matt <a href="https://twitter.com/iOnline247">twitter @iOnline247</a> in this <a href="http://spservices.codeplex.com/discussions/349356">SPServices post</a></em></p>

<h3>Input Parameters</h3>

<ul>
<li><p><strong>dateObj</strong> :   <em>Date. Optional. Default=Date()</em> <br />
The date object to use in generating the Date string.</p></li>
<li><p><strong>formatType</strong> :   <em>String. Optional. Default="local"</em> <br />
What format to use in creating the date string. Supported values are <em>local</em> for local time and <em>utc</em> for UTC time.</p></li>
</ul>

<h3>Return Value</h3>

<p>A string is returned with the date formatted in the appropriate locale.</p>

<h3>Example</h3>

<pre><code>// Return today's date formatted in local time
// Result example: 2013-05-06T13:08:10
$.SPWidgets.SPGetDateString();

// Return date formatted in UTC time
// Result example: 2013-05-06T17:09:19Z
$.SPWidgets.SPGetDateString(null, "utc");
</code></pre>

<h2>$().SPGetMsgError</h2>

<p>A jQuery method (extension of $.fn) that given a SharePoint webservices response object, will look to see if it contains an error and return that error formatted as a string. The XML response object will be checked for errors that might be returned in the following XML elements:</p>

<pre><code>&lt;ErrorCode /&gt;
&lt;faultcode /&gt;
</code></pre>

<p>(Since v. 2.0) </p>

<h3>Input Parameters</h3>

<p>None.</p>

<h3>Return Value</h3>

<p>A string with the first error found in the XML message.</p>

<h3>Example</h3>

<pre><code>alert( $(xData.responseXML).SPGetMsgError() );
</code></pre>

<h2>$.fn.SPMsgHasError</h2>

<p>A jQuery method (extension of $.fn) that given a SharePoint webservices response object, that given an XML message as returned by the SharePoint WebServices API, will check if it contains an error and return a Boolean indicating that. The XML response object will be checked for errors that might be returned in the following XML elements:</p>

<pre><code>&lt;ErrorCode /&gt;
&lt;faultcode /&gt;
</code></pre>

<p>(Since v. 2.0) </p>

<h3>Input Parameters</h3>

<p>None.</p>

<h3>Return Value</h3>

<p>A Boolean will be returned indicating whether the XML message has an error (true) or not (false).</p>

<h3>Example</h3>

<pre><code>if ( $(xData.responseXML).SPMsgHasError() ) {

    alert("error in xml message.");

}
</code></pre>


<!-- ===============[[ doc above ]]=========================== --> 
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/purtuga">purtuga</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
          var pageTracker = _gat._getTracker("UA-35374531-2");
        pageTracker._trackPageview();
        } catch(err) {}
    </script>
  </body>
</html>